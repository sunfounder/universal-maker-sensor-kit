
.. note::

    ã“ã‚“ã«ã¡ã¯ã€SunFounder Raspberry Pi & Arduino & ESP32 Enthusiasts Communityã¸ã‚ˆã†ã“ãï¼Facebookä¸Šã§ã€ä»²é–“ã¨ä¸€ç·’ã«Raspberry Piã€Arduinoã€ESP32ã‚’ã•ã‚‰ã«æ·±ãæ¢æ±‚ã—ã¾ã—ã‚‡ã†ã€‚

    **ãªãœå‚åŠ ã™ã‚‹ã®ã‹ï¼Ÿ**

    - **å°‚é–€çš„ãªã‚µãƒãƒ¼ãƒˆ**ï¼šè³¼å…¥å¾Œã®å•é¡Œã‚„æŠ€è¡“çš„ãªèª²é¡Œã‚’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚„ãƒãƒ¼ãƒ ã®åŠ©ã‘ã‚’å€Ÿã‚Šã¦è§£æ±ºã€‚
    - **å­¦ã³ã¨å…±æœ‰**ï¼šã‚¹ã‚­ãƒ«ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã®ãƒ’ãƒ³ãƒˆã‚„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’äº¤æ›ã€‚
    - **é™å®šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**ï¼šæ–°è£½å“ç™ºè¡¨ã‚„äºˆå‘Šç·¨ã«æ—©æœŸã‚¢ã‚¯ã‚»ã‚¹ã€‚
    - **ç‰¹åˆ¥å‰²å¼•**ï¼šæœ€æ–°è£½å“ã®ç‰¹åˆ¥å‰²å¼•ã‚’æ¥½ã—ã‚€ã€‚
    - **ãƒ•ã‚§ã‚¹ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ**ï¼šãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚„ãƒ›ãƒªãƒ‡ãƒ¼ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã«å‚åŠ ã€‚

    ğŸ‘‰ ç§ãŸã¡ã¨ä¸€ç·’ã«æ¢ç´¢ã¨å‰µé€ ã‚’å§‹ã‚ã‚‹æº–å‚™ã¯ã§ãã¾ã—ãŸã‹ï¼Ÿ[|link_sf_facebook|]ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ä»Šã™ãå‚åŠ ã—ã¾ã—ã‚‡ã†ï¼
.. _uno_iot_flame:

ãƒ¬ãƒƒã‚¹ãƒ³50: Blynkã‚’ä½¿ç”¨ã—ãŸç«ç½è­¦å ±ã‚·ã‚¹ãƒ†ãƒ 
============================================================

ã“ã®ç« ã§ã¯ã€Blynkã‚’ä½¿ç”¨ã—ã¦å®¶åº­ç”¨ç«ç½è­¦å ±ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹æ‰‹é †ã‚’æ¡ˆå†…ã—ã¾ã™ã€‚ç«ç‚ã‚»ãƒ³ã‚µãƒ¼ã‚’åˆ©ç”¨ã—ã¦ã€å®¶åº­å†…ã®ç«ç½ã‚’æ¤œå‡ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚æ¤œå‡ºã•ã‚ŒãŸå€¤ã‚’Blynkã«é€ä¿¡ã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’ä»‹ã—ã¦ãƒªãƒ¢ãƒ¼ãƒˆã§å®¶åº­ã®ç›£è¦–ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ç«ç½ãŒç™ºç”Ÿã—ãŸå ´åˆã€Blynkã¯ãƒ¡ãƒ¼ãƒ«ã§è¿…é€Ÿã«é€šçŸ¥ã—ã¾ã™ã€‚

å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
--------------------------

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¿…è¦ã§ã™ã€‚

ä¸€å¼ã‚­ãƒƒãƒˆã‚’è³¼å…¥ã™ã‚‹ã®ãŒä¾¿åˆ©ã§ã™ã€‚ã“ã¡ã‚‰ã®ãƒªãƒ³ã‚¯ã‚’ã”è¦§ãã ã•ã„:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Name	
        - ITEMS IN THIS KIT
        - LINK
    *   - Universal Maker Sensor Kit
        - 94
        - |link_umsk|

ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰åˆ¥ã€…ã«è³¼å…¥ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - Component Introduction
        - Purchase Link

    *   - Arduino UNO R3 or R4
        - |link_Uno_R3_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_esp8266`
        - \-
    *   - :ref:`cpn_flame`
        - \-

é…ç·š
---------------------------

.. image:: img/Lesson_50_Iot_flame_alert_system_uno_bb.png
    :width: 100%

Blynkã®è¨­å®š
-----------------------------

**1 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆ**
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

ã¾ãšã€Blynkã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ã€ **"Flame Alert System"** ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

.. image:: img/01-create_template_1_shadow.png
    :width: 70%
    :align: center

**HARDWARE** ãŒ **ESP8266** ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã¨ã€ **CONNECT TYPE** ãŒ **WiFi** ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

.. image:: img/01-create_template_2_shadow.png
    :width: 70%
    :align: center

.. raw:: html
    
    <br/>  

**2 ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ **
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Datastream** ãƒšãƒ¼ã‚¸ã§ã€ã‚¿ã‚¤ãƒ—ãŒ **Virtual Pin** ã® **Datastream** ã‚’ä½œæˆã—ã€ç«ç‚ã‚»ãƒ³ã‚µãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚

.. image:: img/01-datastream_1_shadow.png
    :width: 90%
    :align: center

**Virtual Pin** ã®åå‰ã‚’ ``flame_sensor_value`` ã«è¨­å®šã—ã¾ã™ã€‚ **DATA TYPE** ã‚’ **Integer** ã«è¨­å®šã—ã€MIN ã¨ MAX ã‚’ **0** ã¨ **1** ã«è¨­å®šã—ã¾ã™ã€‚

.. image:: img/01-datastream_2_shadow.png
    :width: 90%
    :align: center

.. raw:: html
    
    <br/> 

**3 ã‚¤ãƒ™ãƒ³ãƒˆ**
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

æ¬¡ã«ã€ç«ç‚æ¤œå‡ºã‚’è¨˜éŒ²ã—ã€ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚’é€ä¿¡ã™ã‚‹ **ã‚¤ãƒ™ãƒ³ãƒˆ** ã‚’ä½œæˆã—ã¾ã™ã€‚

.. image:: img/01-event_1_shadow.png
    :width: 80%
    :align: center

.. note::
    è¨­å®šã‚’ä¸€è²«æ€§ã®ã‚ã‚‹ã‚‚ã®ã«ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ãã†ã—ãªã„ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

**EVENT NAME** ã‚’ ``flame_detection_alert`` ã«è¨­å®šã—ã¾ã™ã€‚åŒæ™‚ã«ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ã® **DESCRIPTION** ã‚’è¨­å®šã—ã¦ã€é€ä¿¡ã•ã‚Œã‚‹ãƒ¡ãƒ¼ãƒ«ã®å†…å®¹ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚ã¾ãŸã€ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ã®é »åº¦åˆ¶é™ã‚’ä»¥ä¸‹ã§è¨­å®šã§ãã¾ã™ã€‚

.. image:: img/01-event_2_shadow.png
    :width: 80%
    :align: center

**Notifications** ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã€ãƒ¡ãƒ¼ãƒ«è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚

.. image:: img/01-event_3_shadow.png
    :width: 80%
    :align: center

.. raw:: html
    
    <br/> 

**4 Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

æ¬¡ã«ã€Unoãƒœãƒ¼ãƒ‰ã‹ã‚‰é€ä¿¡ã•ã‚ŒãŸã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ã€ **Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

**Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**ãƒšãƒ¼ã‚¸ã« **ãƒ©ãƒ™ãƒ«ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ** ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¾ã™ã€‚

.. image:: img/01-web_dashboard_1_shadow.png
    :width: 100%
    :align: center

**ãƒ©ãƒ™ãƒ«ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ**ã®è¨­å®šãƒšãƒ¼ã‚¸ã§ã€ **Datastream** ã‚’ **flame_sensor_value(V0)** ã«è¨­å®šã—ã¾ã™ã€‚æ¬¡ã«ã€ãƒ‡ãƒ¼ã‚¿ã®å€¤ã«å¿œã˜ã¦ **ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆèƒŒæ™¯** ã®è‰²ã‚’å¤‰ãˆã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚è¡¨ç¤ºã•ã‚Œã‚‹å€¤ãŒ1ã®ã¨ãã¯ç·‘è‰²ã€0ã®ã¨ãã¯èµ¤è‰²ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

.. image:: img/01-web_dashboard_2_shadow.png
    :width: 100%
    :align: center

.. image:: img/01-web_dashboard_3_shadow.png
    :width: 100%
    :align: center

.. raw:: html
    
    <br/> 

**5 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¿å­˜**
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

æœ€å¾Œã«ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä¿å­˜ã™ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãªã„ã§ãã ã•ã„ã€‚

.. image:: img/01-save_template_shadow.png
    :width: 70%
    :align: center

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç·¨é›†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€å³ä¸Šã®ç·¨é›†ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚

.. image:: img/01-save_template_2_shadow.png
    :width: 70%
    :align: center

.. raw:: html
    
    <br/> 

ã‚³ãƒ¼ãƒ‰
----------------------- 

#. ``universal-maker-sensor-kit\arduino_uno\Lesson_50_Flame_alert_system`` ãƒ‘ã‚¹ã«ã‚ã‚‹ ``Lesson_50_Flame_alert_system.ino`` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã‹ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ **Arduino IDE** ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚

   .. raw:: html
       
       <iframe src=https://create.arduino.cc/editor/sunfounder01/ef829dd7-337d-475d-908b-d118c6a93eef/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe>

#. Flame Detection Alertãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦Blynkãƒ‡ãƒã‚¤ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚æ¬¡ã«ã€ ``BLYNK_TEMPLATE_ID`` ã€ ``BLYNK_TEMPLATE_NAME`` ã€ãŠã‚ˆã³ ``BLYNK_AUTH_TOKEN`` ã‚’è‡ªåˆ†ã®ã‚‚ã®ã«ç½®ãæ›ãˆã¾ã™ã€‚

   .. code-block:: arduino
    
      #define BLYNK_TEMPLATE_ID "TMPxxxxxxx"
      #define BLYNK_TEMPLATE_NAME "Flame Alert System"
      #define BLYNK_AUTH_TOKEN "xxxxxxxxxxxxx"
   
   .. image:: img/01-create_device_1_shadow.png
    :width: 80%
    :align: center

   .. image:: img/01-create_device_2_shadow.png
    :width: 80%
    :align: center

   .. image:: img/01-create_device_3_shadow.png
    :width: 80%
    :align: center

   .. image:: img/01-create_device_4_shadow.png
    :width: 80%
    :align: center

#. ä½¿ç”¨ã—ã¦ã„ã‚‹WiFiã® ``ssid`` ã¨ ``password`` ã‚’å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

   .. code-block:: arduino

    char ssid[] = "your_ssid";
    char pass[] = "your_password";

#. æ­£ã—ã„ãƒœãƒ¼ãƒ‰ã¨ãƒãƒ¼ãƒˆã‚’é¸æŠã—ãŸå¾Œã€ **Upload** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

#. ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’é–‹ãï¼ˆãƒœãƒ¼ãƒ¬ãƒ¼ãƒˆã‚’115200ã«è¨­å®šï¼‰ã€æ¥ç¶šæˆåŠŸãªã©ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã‚’å¾…ã¡ã¾ã™ã€‚

   .. image:: img/01-ready_1_shadow.png
    :width: 80%
    :align: center

   .. note::

       æ¥ç¶šæ™‚ã« ``ESP is not responding`` ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚ŒãŸå ´åˆã€æ¬¡ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ã€‚

       * 9Vãƒãƒƒãƒ†ãƒªãƒ¼ãŒæ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
       * RSTãƒ”ãƒ³ã‚’1ç§’é–“GNDã«æ¥ç¶šã—ã¦ã‹ã‚‰å¤–ã™ã“ã¨ã§ã€ESP8266ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ãã ã•ã„ã€‚
       * R4ãƒœãƒ¼ãƒ‰ã®ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚

       ä¸Šè¨˜ã®æ“ä½œã‚’3ã€œ5å›ç¹°ã‚Šè¿”ã™å¿…è¦ãŒã‚ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã®ã§ã€å¿è€å¼·ãè¡Œã£ã¦ãã ã•ã„ã€‚

#. ã“ã‚Œã§ã€Blynkã¯ç«ç‚ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰èª­ã¿å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ãƒ©ãƒ™ãƒ«ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§ã¯ã€ç«ç‚ã‚»ãƒ³ã‚µãƒ¼ãŒèª­ã¿å–ã£ãŸå€¤ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è¡¨ç¤ºã•ã‚Œã‚‹å€¤ãŒ1ã®ã¨ãã€ãƒ©ãƒ™ãƒ«ã®èƒŒæ™¯ãŒç·‘è‰²ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è¡¨ç¤ºã•ã‚Œã‚‹å€¤ãŒ0ã®ã¨ãã€ãƒ©ãƒ™ãƒ«ã®èƒŒæ™¯ãŒèµ¤è‰²ã§è¡¨ç¤ºã•ã‚Œã€Blynkã‹ã‚‰è­¦å‘Šãƒ¡ãƒ¼ãƒ«ãŒé€ä¿¡ã•ã‚Œã¾ã™ã€‚

   .. image:: img/01-ready_2_shadow.png
    :width: 80%
    :align: center

#. ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã§Blynkã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€:ref:`blynk_mobile`ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

ã‚³ãƒ¼ãƒ‰è§£æ
---------------------------

1. **ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åˆæœŸåŒ–**

   å§‹ã‚ã‚‹å‰ã«ã€Arduinoã€ESP8266 WiFiãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ãŠã‚ˆã³Blynkã‚¢ãƒ—ãƒªé–“ã®é€šä¿¡ã®ãŸã‚ã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨­å®šã—ã€Arduinoã¨ESP8266ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é–“ã§ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚·ãƒªã‚¢ãƒ«æ¥ç¶šã‚’æ§‹æˆã—ã€ãƒ‡ãƒ¼ã‚¿é€ä¿¡ã®ãŸã‚ã®é©åˆ‡ãªãƒœãƒ¼ãƒ¬ãƒ¼ãƒˆã‚’è¨­å®šã—ã¾ã™ã€‚
   
   .. code-block:: arduino
   
       //Set debug prints on Serial Monitor
       #define BLYNK_PRINT Serial
   
       #include <ESP8266_Lib.h>               // Library for ESP8266
       #include <BlynkSimpleShieldEsp8266.h>  // Library for Blynk
   
       // Software Serial on Uno
       #include <SoftwareSerial.h>
       SoftwareSerial EspSerial(2, 3);  // RX, TX
       #define ESP8266_BAUD 115200      // Set the ESP8266 baud rate
       ESP8266 wifi(&EspSerial);

2. **Blynkã¨WiFiã®è¨­å®š**

   ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒBlynkã‚¢ãƒ—ãƒªã¨é€šä¿¡ã™ã‚‹ãŸã‚ã«ã¯ã€Wi-Fiãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã“ã§ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚
   
   .. code-block:: arduino

      // Template ID, Device Name and Auth Token are provided by the Blynk Cloud
      // See the Device Info tab, or Template settings
      #define BLYNK_TEMPLATE_ID "TMPxxxxxx"
      #define BLYNK_TEMPLATE_NAME "Flame Alert System"
      #define BLYNK_AUTH_TOKEN "xxxxxxxxxxxxxxx" 
      
      // Your WiFi credentials.
      // Set password to "" for open networks.
      char ssid[] = "your_ssid";
      char pass[] = "your_password";

3. **ã‚»ãƒ³ã‚µãƒ¼ãƒ”ãƒ³ã¨ã‚¿ã‚¤ãƒãƒ¼ã®å®£è¨€**

   ç«ç‚ã‚»ãƒ³ã‚µãƒ¼ã®ãƒ”ãƒ³ç•ªå·ã‚’å®šç¾©ã—ã¾ã™ã€‚
   Blynkãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯çµ„ã¿è¾¼ã¿ã®ã‚¿ã‚¤ãƒãƒ¼ãŒã‚ã‚Šã€ã‚¿ã‚¤ãƒãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚è©³ç´°ã¯ |link_blynk_timer_intro| ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

   .. code-block:: arduino

       const int sensorPin = 8;
       BlynkTimer timer;

4. **setup()é–¢æ•°**

   ã‚»ãƒ³ã‚µãƒ¼ã®ãƒ”ãƒ³ãƒ¢ãƒ¼ãƒ‰ã®è¨­å®šã€ã‚·ãƒªã‚¢ãƒ«é€šä¿¡ã®åˆæœŸåŒ–ã€BlynkTimerã®è¨­å®šã€ãŠã‚ˆã³Blynkã‚¢ãƒ—ãƒªã¸ã®æ¥ç¶šãªã©ã®åˆæœŸè¨­å®šã‚’ã“ã®é–¢æ•°ã§è¡Œã„ã¾ã™ã€‚

   - ``timer.setInterval(1000L, myTimerEvent)``ã‚’ä½¿ç”¨ã—ã¦setup()ã§ã‚¿ã‚¤ãƒãƒ¼é–“éš”ã‚’è¨­å®šã—ã¾ã™ã€‚ã“ã“ã§ã¯**1000ms**ã”ã¨ã« ``myTimerEvent()`` é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚ ``timer.setInterval(1000L, myTimerEvent)`` ã®æœ€åˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã—ã¦ ``myTimerEvent`` ã®å®Ÿè¡Œé–“éš”ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚

   .. raw:: html
    
    <br/> 

   .. code-block:: arduino

       void setup() {
         pinMode(sensorPin, INPUT);
         Serial.begin(115200);
         EspSerial.begin(ESP8266_BAUD);
         delay(1000);
         timer.setInterval(1000L, myTimerEvent);
         Blynk.config(wifi,BLYNK_AUTH_TOKEN);
         Blynk.connectWiFi(ssid, pass);
       }

5. **loop()é–¢æ•°**

   ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ã§ã¯ã€BlynkãŠã‚ˆã³ã‚¿ã‚¤ãƒãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç¶™ç¶šçš„ã«å®Ÿè¡Œã—ã¾ã™ã€‚

   .. code-block:: arduino

       void loop() {
         Blynk.run();
         timer.run();
       }

6. **myTimerEvent()ãŠã‚ˆã³sendData()é–¢æ•°**

   .. code-block:: arduino
 
       void myTimerEvent() {
         // Please don't send more that 10 values per second.
         sendData();  // Call function to send sensor data to Blynk app
       }

   ``sendData()``é–¢æ•°ã¯ã€ç«ç‚ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰å€¤ã‚’èª­ã¿å–ã‚Šã€ãã‚Œã‚’Blynkã«é€ä¿¡ã—ã¾ã™ã€‚ç«ç‚ãŒæ¤œå‡ºã•ã‚ŒãŸå ´åˆï¼ˆå€¤ãŒ0ï¼‰ã€Blynkã‚¢ãƒ—ãƒªã« ``flame_detection_alert`` ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã—ã¾ã™ã€‚

   - ``Blynk.virtualWrite(vPin, value)``ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’Blynkã®ä»®æƒ³ãƒ”ãƒ³V0ã«é€ä¿¡ã—ã¾ã™ã€‚è©³ç´°ã¯ |link_blynk_virtualWrite| ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

   - ``Blynk.logEvent("event_code")``ã‚’ä½¿ç”¨ã—ã¦Blynkã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨˜éŒ²ã—ã¾ã™ã€‚è©³ç´°ã¯ |link_blynk_logEvent| ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

   .. raw:: html
    
    <br/> 

   .. code-block:: arduino
       
      void sendData() {
        int data = digitalRead(sensorPin);
        Blynk.virtualWrite(V0, data);  // send data to virtual pin V0 on Blynk
        Serial.print("flame:");
        Serial.println(data);  // Print flame status on Serial Monitor
        if (data == 0) {
          Blynk.logEvent("flame_alert");  // log flame alert event if sensor detects flame
        }
      }

**å‚ç…§**

- |link_blynk_doc|
- |link_blynk_quickstart| 
- |link_blynk_virtualWrite|
- |link_blynk_logEvent|
- |link_blynk_timer_intro|